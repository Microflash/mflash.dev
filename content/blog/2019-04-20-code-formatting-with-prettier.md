---
title: Code Formatting with Prettier
path: code-formatting-with-prettier
date: 2019-04-20
updated: 2019-08-17
author: [naiyer]
summary: Format source code with Prettier and use it with EditorConfig and ESLint
tags: ['guide', 'nodejs', 'prettier']
---

## Intent

[Prettier](https://prettier.io) is an opinionated code formatter that formats the code in a consistent style. [Here are some reasons why you should use prettier](https://prettier.io/docs/en/why-prettier.html). The intent of this guide is to integrate it with your Node.js project. You'll also learn how Prettier can work with EditorConfig and ESLint.

### Setup

You should already have a Node.js project; it could be any Express, Angular or Vue.js project.

### Table of Contents

## Install Prettier

Start by executing the following command in the directory where `package.json` is located

```bash
npm install --save-dev --save-exact prettier
```

As per Prettier [documentation](https://prettier.io/docs/en/install.html), it is recommended to save an exact version of prettier in your `package.json` since it introduces stylistic changes in patch releases.

## Configure pre-commit hook

To format the staged files before you commit them to git, you can use `pretty-quick` to run prettier on staged files and `husky` to configure a pre-commit hook.

Execute the following command to install dependencies.

```bash
npm install --save-dev pretty-quick husky
```

Add an `fmt` script in `package.json` to format staged files and configure the `husky` object with a hook.

```json
{
  "fmt": "pretty-quick --staged",
  "husky": {
    "hooks": {
      "pre-commit": "npm run fmt"
    }
  }
}
```

## Working with EditorConfig

EditorConfig is a popular way to maintain consistent coding styles between multiple developers across different editors and IDEs. It consists of a `.editorconfig` file which contains coding styles and a plugin that enables the editors and IDEs to enforce those styles.

An `.editorconfig` for an Angular application generated by Angular CLI looks like this:

```ini
root = true

[*]
charset = utf-8
indent_style = space
indent_size = 2
insert_final_newline = true
trim_trailing_whitespace = true

[*.md]
max_line_length = off
trim_trailing_whitespace = false
```

Prettier CLI respects your `.editorconfig` file by default. You can opt-out of this behavior using `--no-editorconfig` flag.

## Working with ESLint

If you're working on a JavaScript project, you can use ESLint to format your code with Prettier. Execute the following command to add necessary plugins.

```bash
npm install --save-dev eslint-config-prettier eslint-plugin-prettier
```

Now, open the `.eslintrc.json` file and add the following configuration:

```json
{
  "extends": [
    "plugin:prettier/recommended"
  ]
}
```

## References

> - [Prettier docs](https://prettier.io/docs/en/install.html)